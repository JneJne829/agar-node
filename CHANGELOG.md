# 更動日誌

記錄所有重要變更。

## [Unreleased]
### 新增
- 

### 變更
- 

### 修復
- 


## [0.3.0] – 2025-06-12
### 新增
- **動態鏡頭縮放**：玩家細胞越大，鏡頭視野越廣，並以緩動方式平滑變化  
- **平滑成長效果**：前端為每位玩家維護 `smoothSize`，細胞半徑以 10 % 緩動逼近實際大小  
- **增量更新空間網格**  
  - 初次插入所有 feed 後，每 tick 只對「新生成 / 被吃掉」的 feed 做 `insert` / `remove`  
  - 當偵測到更大的玩家尺寸時，動態放大 `cellSize` 並重建索引  

### 變更
- `gameLoop.js`：  
  - 玩家移動後夾在邊界內；鏡頭夾取邏輯考慮縮放後視口大小  
  - 移除每 tick 全量重灌 feed 的操作，改為增量更新  
- 前端 `index.html`：  
  - 改寫 `draw()`：`ctx.scale` 處理縮放、格線線寬隨縮放調整  
  - 滑鼠方向向量改以「世界座標 → 玩家座標」計算，支援縮放  
  - 加入 `MIN_ZOOM` / `MAX_ZOOM` 參數限制最大最小視野  

### 修復
- 修正巨大細胞與 feed 重疊卻無法吃掉的問題（動態調整 `cellSize`）  
- 修正縮放後鏡頭仍可看到地圖外的問題  


## [0.2.0] – 2025-06-11
### 新增
- Feed 系統：場上啟動時全圖隨機生成既定數量的 feed，之後以固定速率持續補充  
- 空間網格（Spatial Grid）碰撞優化：加速玩家與 feed 的鄰域偵測  
- 地圖邊界限制：  
  - 伺服器端限制玩家位置於邊界內  
  - 前端鏡頭偏移鎖定於地圖範圍內  
- 暗黑主題：前端背景與格線改為深色配色  
- 後端模組化重構：拆分 `config`、`models`、`logic`、`network` 等目錄，關注分離  

### 變更
- `gameLoop.js`：重構補 feed 邏輯為固定速率及全圖隨機生成  
- 前端方向向量與鏡頭偏移計算更新，改以玩家螢幕座標為基準  

### 修復
- 過快生成 feed 的問題  
- 玩家與鏡頭可超出地圖邊界的問題  


## [0.1.0] – 2025-06-11
### 新增
- 初始專案結構：  
  - `server.js`：Express + Socket.io 伺服器（120 FPS 更新）  
  - `package.json`、`package-lock.json`：依賴管理  
  - `public/index.html`：Canvas + Socket.io 客戶端  
- 背景格線繪製  
- 滑鼠相對畫面中心計算正規化移動向量  
- 前端使用 `requestAnimationFrame` 進行渲染  

### 變更
- 無  

### 修復
- 細胞到達目標後停頓問題  
